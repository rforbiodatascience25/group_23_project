---
title: "all"
format: 
  html:
    self-contained: true
---

This script will run all our Analysis, from downloading the data until producing the plots for the presentation, and render the scripts. The resulting .html files can be found in results

# Load libraries

```{r}
#| include: false
library(here)
library(quarto)
```

# Load all necessary Data

This script downloads the analysed dataset, unpacks it and will clean all data object which are necessary for the subsequent analysis.

```{r}
#| echo: true
#| results: "hide"
quarto::quarto_render(here("R", "Importing_raw_data.qmd"))
```

# Analysis on specific Datasets

In these scripts, the seperate data files are analysed for necessary cleaning and interesting patterns or correlations.

```{r}
#| echo: true
#| results: "hide"
quarto::quarto_render(here("R", "data_clinical_patient_analysis.qmd"))
quarto::quarto_render(here("R", "data_clinical_sample_analysis.qmd"))
quarto::quarto_render(here("R", "data_mutations_analysis.qmd"))
quarto::quarto_render(here("R", "sv_class_analysis.qmd"))
quarto::quarto_render(here("R", "gene_panel_mutation.qmd"))
```

# Downstream Analysis

These scripts perform more particular Analysis to follow findings from the exploratory analysis.

```{r}
#| echo: true
#| results: "hide"
quarto::quarto_render(here("R", "Cox_Regression.qmd"))
quarto::quarto_render(here("R", "EGFR_SV_analysis.qmd"))
quarto::quarto_render(here("R", "gene_enrichment_analysis.qmd"))
quarto::quarto_render(here("R", "mutation_types.qmd"))
quarto::quarto_render(here("R", "Survival_rate_parameter_analysis.qmd"))
```

# Move HTML files to Results

```{r}
#| echo: true
#| results: "hide"
if(!dir.exists(here("results"))) dir.create(here("results"))

html_files <- list.files(here("R"), pattern = "\\.html$", full.names = TRUE)
file.rename(from = html_files, to = file.path(here("results"), basename(html_files)))
```

{{< include gene_enrichment_analysis.qmd >}}
